# Streams и окно “Edit stream”

Stream (канал) — это один “объект”, который берёт поток на входе и отдаёт его на выходы.

## Создать канал

1. Откройте **Dashboard**.
2. Нажмите **New Stream**.
3. Заполните:
   - **Name** — как будет видно в списке.
   - **ID** — короткий идентификатор (лучше латиница/цифры/`_`).
4. Добавьте вход в **INPUT LIST**.
5. Добавьте выход в **OUTPUT LIST**.
6. Нажмите **Save**.

## Что внутри “Edit stream”

Вверху — базовые поля (Name/ID/Description) и блоки включения функций.
Ниже — списки входов/выходов.

Вкладки (если они есть в вашем UI):

- **General** — входы, выходы, включение транскода, MPTS.
- **Groups** — группировка (например, для плейлистов).
- **Service** — выбор сервиса/PNR и связанные параметры.
- **Remap** — remap PID/таблиц (если нужно “пригладить” TS).
- **Backup** — резервный вход и правила переключения.
- **Transcode** — профили/ladder/publish (когда включён транскод).
- **EPG** — экспорт/параметры EPG (если включено).
- **Advanced** — редкие настройки (держите их закрытыми, если не уверены).

## Enable / Disable

Если канал **Disabled**, он не будет работать.
Это не удаление: настройки сохраняются.

## Проверка “играет ли”

Самые быстрые варианты:

- HTTP‑TS:

```bash
ffplay http://SERVER:9060/live/STREAM_ID
```

- HLS:

```bash
ffplay http://SERVER:9060/hls/STREAM_ID/index.m3u8
```

!!! tip "Если ссылка не играет"
    Проверьте: канал ONLINE, битрейт > 0, и порт доступен с вашей машины.

## Analyze (анализ потока)

Кнопка **Analyze** показывает, что внутри TS:
сервисы, PID, CC/PES ошибки, битрейт и другие подсказки.

Если анализ не открывается или даёт ошибку:

1. Проверьте логи (раздел **Log** или `journalctl`).
2. Проверьте, что вход реально даёт TS (битрейт не 0).

## Stream preview (on‑demand)

Preview — это “временный просмотр” для проверки.
Он ограничен, чтобы случайно не превратить сервер в “публичный ретранслятор”.

Ограничения настраиваются в **Settings → General → Stream preview**:

- **Max preview sessions (global)** — сколько preview‑сессий можно держать одновременно.
- **Idle timeout** — сколько жить без активности.
- **Token TTL** — сколько живёт ссылка‑токен.

Важно:

- Preview относится именно к режиму preview (временный просмотр).
- Обычные клиенты, которые подключаются к вашим выходам (`/live`, `/hls`, UDP и т.д.), этими лимитами не ограничиваются.

