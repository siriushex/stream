# Create radio (аудио + PNG → UDP TS)

Create radio делает "радио-канал": берет аудио URL, добавляет статичную PNG как видео,
и отдает MPEG-TS по UDP.

## Где находится

**Edit stream -> Input settings -> Type: Create radio**

## Коротко

- Указываете **Audio URL** (Icecast/ICY MP3 или другой поток).
- Указываете PNG: путь на сервере или загрузка (Upload PNG).
- Указываете **Output UDP URL**.
- Нажимаете **Start**.
- Web UI автоматически добавляет UDP в **INPUT LIST** (как новый вход).

## Автозапуск и восстановление

- **Start** включает режим “всегда запущен”: генератор будет автоматически стартовать после перезапуска инстанса,
  пока вы не нажмете **Stop**.
- Если `curl/ffmpeg` упал или завис — Stream Hub попробует перезапустить генератор сам
  (с задержкой и лимитом на частые рестарты).

## Шаги

1. Откройте канал → **Edit stream**.
2. В **INPUT LIST** нажмите **NEW INPUT**.
3. Выберите **Type: Create radio**.
4. В блоке **Create radio** заполните:
   - **Audio URL**
   - PNG (путь или Upload PNG)
   - **Output UDP URL**
5. Нажмите **Start**.
6. Проверьте, что в **INPUT LIST** появился новый UDP вход.
7. Нажмите **Save**.

## Важные параметры

- **Use CURL pipe**  
  Рекомендуется для ICY/MP3 потоков.  
  Стабильнее, чем прямой вход ffmpeg.

- **Audio format (pipe)**  
  Формат данных, которые приходят по пайпу (обычно `mp3`).
  Если аудио у вас AAC, переключите на `aac`.

- **Video settings**  
  Обычно достаточно дефолтов:  
  `25 fps`, `270x270`, `libx264`, `veryfast`, `yuv420p`.

- **Audio settings**  
  По умолчанию: `AAC 256k / 48 kHz / 2ch`.

- **TS/UDP**  
  `pkt_size=1316` и `muxdelay=0.7` — рабочие значения по умолчанию.

## Статус и логи

- **Running / Stopped / Error**
- Есть лог‑хвост для диагностики (последние строки).

Если процесс упал — можно нажать **Restart** (и при этом автозапуск останется включен).

## Preview URL

В блоке есть ссылка **Preview URL**.
Она открывает on-demand просмотр (через Web UI), чтобы быстро понять "играет ли".

## Ошибки

- **ffmpeg не найден**  
  Установите `ffmpeg`.

- **Audio URL не отвечает**  
  Проверьте доступность и таймауты.

- **PNG не найден**  
  Проверьте путь и права.

!!! tip "Где использовать"
    Create radio удобно как “живой резерв” — можно включить в Backup,
    или подменять основной вход на лету.
