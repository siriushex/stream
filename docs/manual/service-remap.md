# Service и Remap

Эти вкладки нужны не всем.
Если у вас обычный SPTS вход (одна программа) и всё “играет” — чаще всего их можно не трогать.

## Service (выбор программы)

Нужно, когда вход — **MPTS** (внутри несколько программ/каналов).

Что вы обычно задаёте:

- **PNR / program number** — какую программу взять.

Как проверить:

1. Откройте **Analyze** и посмотрите список программ.
2. Выберите нужный PNR в вкладке Service.
3. Сохраните и проверьте, что на выходе именно ваш канал.

## Remap (приведение TS)

Remap используют, когда надо “поправить” поток:

- поменять PID,
- убрать лишние таблицы,
- привести сервис‑данные к ожиданиям оборудования.

!!! warning "Осторожно"
    Remap легко “сломать” поток. Делайте изменения по одному и сразу проверяйте на выходе.

## Auto (заполнить автоматически)

На вкладке **Remap** есть кнопка **Auto**.
Она помогает быстро привести PID/PNR/TSID к стабильному виду, чтобы при переключении на резервные входы параметры на выходе оставались одинаковыми.

Что делает Auto:

- читает параметры активного входа (через Analyze: PAT/PMT),
- заполняет `Set PNR` и `Set TSID`,
- строит `PID map` (типовой шаблон: `pmt=100,video=101,...`),
- по возможности заполняет `Filter PIDs` списком PID’ов по всем inputs (чтобы backup не ломался).

Как пользоваться:

1. Убедитесь, что поток включен и вход дает сигнал.
2. `Edit stream` → `Remap` → нажмите **Auto**.
3. Проверьте заполненные поля.
4. Нажмите **Save** внизу окна, чтобы применить.

!!! tip "Про Filter PIDs"
    `Filter PIDs` — это allowlist (пропускаем только перечисленные PID).
    `Filter exclude PIDs` — denylist (исключаем перечисленные PID).

!!! warning "Если часть inputs недоступна"
    Если Auto не смог проанализировать все backup inputs, интерфейс покажет предупреждение:
    выставлять `Filter PIDs` по частичным данным может сломать переключение на резерв.
