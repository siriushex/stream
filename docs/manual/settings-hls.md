# Settings → HLS

Здесь настраивается выдача HLS (`/hls/...`) на сервере.

## Storage backend

- **Disk** — классический вариант: сегменты пишутся на диск.
- **Memfd** — сегменты хранятся в памяти. Меньше дискового I/O.

Если у вас много каналов и HLS активно используют — обычно Memfd даёт более стабильную работу.

## On-demand (только для Memfd)

On-demand означает: HLS сегменты генерируются только когда клиент реально запросил `/hls/...`.

Полезно, если:

- HLS нужен “иногда” (для проверки),
- вы хотите снизить нагрузку по умолчанию.

## Duration / Quantity

- **Duration** — длительность одного сегмента.
- **Quantity** — сколько сегментов держать в окне плейлиста.

Обычно начинают с `Duration=4` и `Quantity=6–10`.

## Если HLS “рвётся”

1. Проверьте вход (битрейт, ONLINE).
2. Если storage = Disk, проверьте диск (I/O, свободное место).
3. Попробуйте Memfd (если доступно).

