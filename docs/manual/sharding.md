# Stream sharding (multi‑process)

Шардинг — это способ распределить каналы по нескольким процессам Stream Hub.

Зачем:

- когда одно ядро CPU часто упирается в 100%,
- когда включён SoftCAM и появляются “рывки”,
- когда много каналов и хочется “разнести” нагрузку.

## Как это работает (в общих чертах)

- Вы включаете sharding.
- Stream Hub запускает несколько процессов на разных портах.
- Каждый процесс обслуживает часть каналов.

## Минусы, о которых важно помнить

- больше портов → больше правил firewall,
- диагностика становится сложнее (надо понимать, где какой канал живёт),
- если вы используете внешние ссылки, нужно продумать Public URLs.

!!! tip "Если сомневаетесь"
    Не включайте sharding “на всякий случай”. Сначала попробуйте более лёгкие меры: lite status polling, агрегатор таймеров, softcam parallel descramble.

