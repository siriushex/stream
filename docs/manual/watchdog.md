# Watchdog (защита от зависаний и перегруза)

Watchdog следит за ресурсами процесса и помогает не “положить” сервер:

- CPU (процент),
- RAM (память),
- количество “страйков” подряд,
- минимальный uptime перед реакцией (чтобы не ловить стартовые пики).

## Где настраивается

Обычно это в **Settings → General** (или рядом) как “Process watchdog”.

Поля:

- **Enabled** — включить/выключить.
- **CPU limit (%)**
- **RSS limit (MB)** или **RSS limit (%)**
- **Interval (sec)** — как часто проверять.
- **Strikes** — сколько раз подряд превышение считается проблемой.
- **Min uptime (sec)** — не реагировать сразу после старта.

## Что происходит при срабатывании

В зависимости от настроек watchdog может:

- просто записать ошибку в лог,
- сделать безопасный reload,
- (в некоторых окружениях) инициировать рестарт через supervisor/systemd.

## Как проверить

1. Включите watchdog.
2. Посмотрите в логах строку `[watchdog] enabled: ...`.
3. При нагрузочном тесте убедитесь, что сервер не “уходит в бесконечный restart”.

!!! tip "Рекомендация"
    Начните с мягких лимитов (CPU 95%, RSS 80%) и увеличьте strikes, если у вас бывают краткие пики.

